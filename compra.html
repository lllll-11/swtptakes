<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Swtptakes - Participa y Gana</title>
  <link rel="icon" type="image/png" href="WhatsApp Image 2025-06-02 at 8.48.49 PM.jpeg" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Colores y sombras base - Refinados para un look más moderno */
    :root {
      --color-primary-dark: #1e293b; /* Texto principal oscuro, casi negro */
      --color-primary-light: #475569; /* Texto secundario gris oscuro */
      --color-accent: #3b82f6; /* Azul brillante para acentos (botones, enlaces) */
      --color-accent-dark: #2563eb; /* Azul más oscuro para hover de acentos */
      --color-background-light: #000000; /* Fondo general muy claro */
      --color-background-card: #ffffff; /* Fondo de tarjetas, blanco puro */
      --color-border: #e2e8f0; /* Borde sutil */
      --color-success: #22c55e; /* Verde para éxito o confirmación */
      --color-warning: #facc15; /* Amarillo para advertencias */
      --color-error: #ef4444; /* Rojo para errores */
      --color-white: #ffffff; /* Añadido explícitamente para claridad, aunque ya es --color-background-card */

      --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-button: 0 5px 15px rgba(59, 130, 246, 0.25); /* Sombra específica para botones */
      --shadow-button-hover: 0 8px 25px rgba(59, 130, 246, 0.35);

      --border-radius-sm: 0.375rem; /* 6px */
      --border-radius-md: 0.5rem; /* 8px */
      --border-radius-lg: 0.75rem; /* 12px */
    }

    /* Reset básico y tipografía global */
    body {
      margin: 0;
      font-family: 'Inter', sans-serif; /* Fuente profesional */
      color: var(--color-primary-dark);
      background: var(--color-background-light);
      min-height: 100vh;
      display: flex; /* Usar flexbox para el layout principal */
      flex-direction: column; /* Apilar elementos verticalmente */
      align-items: center; /* Centrar contenido horizontalmente */
    }

    /* Animación de fondo sutil - Más profesional */
    .animated-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; /* Mover al fondo */
      background: linear-gradient(135deg, var(--color-background-light) 0%, #eef2f6 100%); /* Gradiente suave */
      background-size: 200% 200%;
      animation: subtleFlow 15s ease infinite alternate; /* Animación más lenta y suave */
      opacity: 0.9; /* Menos opaco para ser más sutil */
    }

    @keyframes subtleFlow {
      0% { background-position: 0% 0%; }
      100% { background-position: 100% 100%; }
    }

    /* Encabezado - Elegante y funcional */
    .main-header {
      width: 100%;
      background-color: var(--color-background-card); /* Fondo blanco */
      border-bottom: 1px solid var(--color-border);
      box-shadow: var(--shadow-sm); /* Sombra ligera */
      padding: 0.75rem 0; /* Padding vertical ajustado */
      position: sticky;
      top: 0;
      z-index: 100; /* Asegura que esté siempre arriba */
    }

    .header-content {
      max-width: 1200px; /* Ancho máximo aumentado */
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1.5rem; /* Padding horizontal para el contenido */
    }

    .header-logo-container {
      display: flex;
      align-items: center;
      gap: 0.75rem; /* Espacio entre logo y texto */
    }

    .header-logo-container img {
      height: 40px; /* Logo ligeramente más grande */
      width: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 1px solid var(--color-border); /* Borde más sutil */
    }

    .logo {
      font-size: 1.6rem; /* Tamaño del texto del logo */
      font-weight: 700; /* Más peso */
      color: var(--color-primary-dark);
      letter-spacing: -0.025em; /* Ajuste de espaciado para mejor legibilidad */
      white-space: nowrap;
    }

    .redes {
      display: flex;
      gap: 1rem; /* Espacio entre íconos */
    }

    .redes a {
      color: var(--color-primary-light); /* Color más suave */
      font-size: 1.4rem; /* Tamaño de íconos */
      transition: color 0.2s ease-in-out, transform 0.15s ease-in-out;
      text-decoration: none;
    }

    .redes a:hover {
      color: var(--color-accent); /* Color de acento al pasar el ratón */
      transform: translateY(-2px);
    }

    /* Contenido principal */
    main {
        flex-grow: 1; /* Permite que el contenido ocupe el espacio restante */
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem 1rem; /* Padding para el contenido principal */
        box-sizing: border-box;
    }

    .productos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2.5rem; /* Espacio entre productos */
      margin: 2rem auto; /* Ajuste de margen superior */
      max-width: 1200px;
      width: 100%;
    }

    .productos-columna {
      flex-direction: column;
      align-items: center;
      gap: 2.5rem;
    }

    .producto {
      background: var(--color-background-card);
      border-radius: var(--border-radius-lg); /* Bordes más redondeados */
      box-shadow: var(--shadow-md); /* Sombra más definida */
      padding: 3rem 2.5rem; /* Más padding interno */
      width: 400px; /* Ancho fijo para consistencia */
      max-width: 95%; /* Asegura que no se desborde en móviles */
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      border: 1px solid var(--color-border); /* Borde sutil */
      text-align: center;
      box-sizing: border-box; /* Incluye padding y borde en el ancho */
    }

    .producto:hover {
      transform: translateY(-5px); /* Menos desplazamiento */
      box-shadow: var(--shadow-lg); /* Sombra más grande al pasar el ratón */
      border-color: var(--color-accent); /* Borde con color de acento */
    }

    .producto img {
      width: 140px; /* Imagen más grande */
      height: 140px;
      border-radius: var(--border-radius-md); /* Bordes redondeados para la imagen */
      object-fit: cover; /* Cambiado a cover para mejor ajuste, si son logos */
      box-shadow: var(--shadow-sm); /* Sombra ligera para la imagen */
      margin-bottom: 1.5rem; /* Más espacio debajo de la imagen */
      background: var(--color-background-light); /* Fondo claro para la imagen */
      border: 1px solid var(--color-border);
    }

    .producto h2 {
      font-size: 1.6rem; /* Título más grande */
      font-weight: 700;
      color: var(--color-primary-dark);
      margin-bottom: 0.75rem; /* Espacio debajo del título */
      line-height: 1.3;
    }

    .producto label {
      font-size: 1.05em;
      color: var(--color-primary-dark);
      font-weight: 600;
      display: block; /* Asegura que la etiqueta esté en su propia línea */
      margin-bottom: 0.5rem;
    }

    .producto p,
    .producto strong {
      margin: 0.5rem 0 0.75rem 0; /* Espacio ajustado */
      font-weight: 500; /* Peso de fuente intermedio */
      color: var(--color-primary-light); /* Color más suave para texto general */
      font-size: 1.05rem;
    }

    .producto strong {
        color: var(--color-primary-dark); /* Texto fuerte más oscuro */
        font-weight: 700;
    }

    .producto .gratis {
      color: var(--color-accent); /* Color de acento para "GRATIS" */
      font-weight: 800; /* Más énfasis */
      font-size: 1.1rem;
      letter-spacing: 0.05em; /* Más espaciado para resaltarlo */
      text-transform: uppercase; /* Mayúsculas */
      margin-top: 0.5rem;
      display: inline-block; /* Para aplicar margin-top */
    }

    .producto .ticket-info {
      color: var(--color-primary-light);
      font-size: 0.95rem;
      margin-bottom: 1.5rem; /* Más espacio debajo */
      line-height: 1.5;
    }

    .producto .ticket-box {
      margin-top: 2rem; /* Más espacio superior */
      font-size: 1rem;
    }

    .producto input[type="text"] {
      padding: 12px 16px; /* Más padding */
      width: calc(100% - 32px); /* Ajuste de ancho con padding */
      max-width: 320px; /* Ancho máximo para el input */
      margin: 0.75rem auto 0.5rem auto; /* Margen ajustado */
      border-radius: var(--border-radius-md);
      border: 1px solid var(--color-border); /* Borde sutil */
      font-size: 1rem;
      background: var(--color-background-light);
      color: var(--color-primary-dark);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s ease; /* Añadido transform */
      box-sizing: border-box; /* Incluye padding y borde en el ancho */
    }

    .producto input[type="text"]:focus {
      border-color: var(--color-accent);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); /* Sombra de foco más limpia */
      transform: translateY(-1px); /* Ligero levantamiento al enfocar */
    }

    .producto input::placeholder {
      color: var(--color-primary-light);
      opacity: 0.7;
    }

    .producto .disclaimer-text { /* Estilo para el texto de "Tus datos solo se usan..." */
      font-size: 0.85rem;
      color: var(--color-primary-light);
      margin: 0.75rem 0 1.5rem 0;
    }

    .producto button,
    .producto a > button {
      background: var(--color-accent); /* Fondo sólido de acento */
      color: var(--color-white);
      border: none;
      border-radius: var(--border-radius-md);
      font-weight: 600;
      padding: 14px 32px; /* Más padding para el botón */
      font-size: 1.1rem; /* Texto más grande */
      text-transform: none;
      letter-spacing: normal;
      margin-top: 1.5rem; /* Más margen superior */
      cursor: pointer;
      box-shadow: var(--shadow-button); /* Sombra personalizada para botón */
      transition: background 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
      outline: none;
      display: inline-flex;
      align-items: center;
      gap: 0.75em;
      justify-content: center;
      min-width: 200px; /* Ancho mínimo para consistencia */
    }

    .producto button:hover,
    .producto a > button:hover {
      background: var(--color-accent-dark); /* Color más oscuro al pasar el ratón */
      transform: translateY(-2px);
      box-shadow: var(--shadow-button-hover); /* Sombra más pronunciada */
    }

    .producto button:active,
    .producto a > button:active {
      transform: translateY(0) scale(0.98); /* Pequeño "click" */
      box-shadow: var(--shadow-sm);
    }

    .producto a {
      text-decoration: none;
    }

    .producto .resultado {
      margin-top: 1.5rem; /* Más espacio superior */
      color: var(--color-accent);
      font-weight: 700;
      font-size: 1.3em;
    }

    .regresar-btn {
      display: inline-flex; /* Usar inline-flex para el icono y texto */
      align-items: center;
      gap: 0.5em;
      margin: 2.5rem auto 0 auto; /* Más margen superior */
      background: var(--color-background-card);
      color: var(--color-primary-light);
      border: 1px solid var(--color-border);
      border-radius: var(--border-radius-md);
      font-weight: 500; /* Peso de fuente ajustado */
      padding: 10px 20px;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: var(--shadow-sm); /* Sombra ligera */
      transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
    }

    .regresar-btn:hover {
      background: var(--color-background-light);
      color: var(--color-accent);
      border-color: var(--color-accent);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* Pie de página - Más discreto y profesional */
    footer.main-footer {
      width: 100%;
      margin-top: 4rem; /* Más espacio superior */
      padding: 2rem 1.5rem;
      font-size: 0.9rem; /* Fuente más pequeña */
      color: var(--color-primary-light); /* Color más suave */
      background: var(--color-background-card);
      border-top: 1px solid var(--color-border);
      text-align: center;
      box-shadow: var(--shadow-sm); /* Sombra ligera */
    }

    .main-footer a {
      color: var(--color-accent); /* Enlaces en color de acento */
      margin: 0 0.5em;
      text-decoration: none;
      font-size: 1em; /* Misma fuente que el padre */
      transition: color 0.2s ease, transform 0.15s ease, text-decoration 0.2s ease; /* Transiciones mejoradas */
    }

    .main-footer a:hover {
      color: var(--color-accent-dark);
      text-decoration: underline;
      transform: translateY(-2px); /* Ligero movimiento */
    }

    .main-footer .footer-social-icons { /* Contenedor para iconos sociales en el footer */
        display: inline-block; /* Para poder aplicar margen */
        margin-left: 1.5em; /* Espacio entre texto y iconos */
    }

    .main-footer .footer-social-icons a {
        font-size: 1.1em; /* Iconos un poco más grandes en el footer */
    }

    .resultado-animado {
      display: inline-block;
      font-size: 2.2rem;
      font-weight: 800; /* Extra bold */
      color: var(--color-success); /* Verde para un resultado positivo */
      background: var(--color-background-card);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-lg); /* Sombra más prominente */
      padding: 0.7em 1.5em; /* Más padding */
      margin: 1.5em 0; /* Más margen */
      animation: emergeTicket 1s cubic-bezier(.68,-0.55,.27,1.55);
      position: relative;
      z-index: 2;
      border: 2px solid var(--color-success); /* Borde de color de éxito */
    }

    @keyframes emergeTicket {
      0% { opacity: 0; transform: scale(0.3) translateY(80px); }
      70% { opacity: 1; transform: scale(1.15) translateY(-10px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    /* Confeti - Ajustes sutiles */
    .confeti {
      position: absolute;
      left: 50%;
      top: 0; /* Asegura que el confeti salga de arriba */
      width: 0;
      height: 0;
      pointer-events: none;
      z-index: 10;
      transform: translateX(-50%);
      overflow: hidden; /* Evita que el confeti se desborde */
    }

    .confeti-piece {
      position: absolute;
      width: 10px; /* Confeti más pequeño */
      height: 15px;
      border-radius: 2px;
      opacity: 0.8; /* Menos opaco */
      animation: confeti-fall 1.5s ease-out forwards; /* Más tiempo de animación */
      transform-origin: center center;
    }

    @keyframes confeti-fall {
      0% { opacity: 1; transform: translateY(0px) rotate(0deg) scale(1); }
      100% { opacity: 0; transform: translateY(200px) rotate(720deg) scale(0.6); } /* Cae más, rota más y se encoge */
    }

    /* Estilo para el botón de WhatsApp y otros botones de compartir */
    .btn-whatsapp {
      background-color: #25d366; /* Color verde de WhatsApp */
      color: white;
      border: none;
      border-radius: var(--border-radius-md);
      font-weight: 600;
      padding: 10px 20px;
      font-size: 1rem;
      margin-top: 15px; /* Espacio sobre el botón */
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.75em;
      text-decoration: none; /* Para que parezca un botón */
      box-shadow: var(--shadow-sm);
      transition: background-color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
    }

    .btn-whatsapp:hover {
      background-color: #1da851; /* Verde más oscuro al pasar el ratón */
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .btn-whatsapp:active {
      transform: translateY(0);
      box-shadow: var(--shadow-sm);
    }

    /* Nuevos estilos para los botones de compartir adicionales */
    .share-buttons {
        margin-top: 2rem;
        display: flex;
        justify-content: center;
        gap: 1.25rem; /* Espacio entre los botones */
    }

    .share-buttons a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px; /* Tamaño del botón */
        height: 50px;
        border-radius: 50%; /* Botones circulares */
        font-size: 1.6rem; /* Icono más grande */
        color: var(--color-white);
        box-shadow: var(--shadow-sm);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        text-decoration: none;
    }

    .share-buttons a:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-md);
    }

    .share-buttons .btn-facebook { background-color: #1877F2; }
    .share-buttons .btn-facebook:hover { background-color: #166FE5; }
    /* Nuevo estilo para botón TikTok */
    .share-buttons .btn-tiktok {
        background: linear-gradient(45deg, #00F2EA, #00F2EA 50%, #FF0050 50%, #FF0050);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    .share-buttons .btn-tiktok:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }
    .share-buttons .btn-instagram {
        background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); /* Sombra más pronunciada para Instagram */
    }
    .share-buttons .btn-instagram:hover {
        transform: translateY(-5px) scale(1.05); /* Efecto más pronunciado para Instagram */
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }


    /* Sección Sobre Nosotros */
    .about-us {
        background: var(--color-background-card);
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-md);
        padding: 3rem;
        margin: 3rem auto 0 auto; /* Espacio superior, y centrado */
        max-width: 900px; /* Ancho máximo para la sección */
        width: 100%;
        text-align: center;
        border: 1px solid var(--color-border);
        box-sizing: border-box;
    }

    .about-us h2 {
        font-size: 2rem;
        color: var(--color-primary-dark);
        margin-bottom: 1.5rem;
        position: relative;
        padding-bottom: 0.75rem;
    }

    .about-us h2::after {
        content: '';
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        bottom: 0;
        width: 60px;
        height: 3px;
        background-color: var(--color-accent);
        border-radius: 2px;
    }

    .about-us p {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--color-primary-light);
        margin-bottom: 1.25rem;
    }

    .about-us .call-to-action {
        margin-top: 2rem;
    }

    /* Media Queries - Mejor manejo en móviles */
    @media (max-width: 768px) {
      .header-content {
        padding: 0 1rem; /* Menos padding en los lados */
      }

      .header-logo-container {
        gap: 0.5rem;
      }

      .header-logo-container img {
        height: 36px; /* Logo un poco más pequeño en móviles */
        width: 36px;
      }

      .logo {
        font-size: 1.4rem; /* Texto del logo más pequeño */
      }

      .redes {
        gap: 0.8rem;
      }

      .redes a {
        font-size: 1.2rem;
      }

      .productos {
        gap: 1.5rem;
        margin: 1.5rem auto;
      }

      .producto {
        padding: 2rem 1.5rem; /* Menos padding en tarjetas */
        width: 90%; /* Ancho más flexible */
      }

      .producto img {
        width: 120px;
        height: 120px;
        margin-bottom: 1rem;
      }

      .producto h2 {
        font-size: 1.4rem;
      }

      .producto p, .producto strong {
          font-size: 1rem;
      }

      .producto input[type="text"] {
        padding: 10px 12px;
      }

      .producto button, .producto a > button {
        padding: 12px 24px;
        font-size: 1rem;
        min-width: unset; /* Quitar el ancho mínimo para que se ajuste mejor */
      }

      .regresar-btn {
        margin-top: 2rem;
        padding: 8px 18px;
        font-size: 0.95rem;
      }

      .resultado-animado {
        font-size: 1.8rem;
        padding: 0.6em 1.2em;
      }

      footer.main-footer {
        padding: 1.5rem 1rem;
        margin-top: 3rem;
        font-size: 0.85rem;
      }

      /* Responsividad para nuevas secciones */
      .about-us {
        padding: 2rem;
        margin-top: 2.5rem;
      }
      .about-us h2 {
          font-size: 1.8rem;
      }
      .about-us p {
          font-size: 1rem;
      }
      .share-buttons {
          gap: 1rem;
      }
      .share-buttons a {
          width: 45px;
          height: 45px;
          font-size: 1.4rem;
      }
    }

    @media (max-width: 480px) { /* Ajustes para móviles muy pequeños */
        .header-content {
            padding: 0 0.75rem;
        }

        .header-logo-container {
            gap: 0.4rem;
        }

        .header-logo-container img {
            height: 32px;
            width: 32px;
        }

        .logo {
            font-size: 1.2rem;
            letter-spacing: -0.05em; /* Ajuste más agresivo para textos cortos */
        }

        .redes {
            gap: 0.6rem;
        }

        .redes a {
            font-size: 1.1rem;
        }

        .producto {
            padding: 1.5rem 1rem;
        }

        .producto h2 {
            font-size: 1.3rem;
        }

        .producto button, .producto a > button {
            font-size: 0.95rem;
            padding: 10px 20px;
        }

        .resultado-animado {
            font-size: 1.6rem;
            padding: 0.5em 1em;
        }

        /* Responsividad para nuevas secciones */
        .about-us {
            padding: 1.5rem;
            margin-top: 2rem;
        }
        .about-us h2 {
            font-size: 1.6rem;
        }
        .about-us p {
            font-size: 0.95rem;
        }
        .share-buttons {
            gap: 0.8rem;
        }
        .share-buttons a {
            width: 40px;
            height: 40px;
            font-size: 1.3rem;
        }
    }
  </style>
</head>
<body>
  <div class="animated-bg"></div>
  <header class="main-header">
    <div class="header-content">
      <div class="header-logo-container">
        <img src="logo.png" alt="Logo Swtptakes" role="img">
        <span class="logo">Swtptakes</span>
      </div>
      <nav class="redes" aria-label="Redes Sociales de Swtptakes">
        <a href="https://instagram.com/swtptakes" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://facebook.com/swtptakes" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          <i class="fab fa-facebook"></i>
        </a>
        <a href="https://www.tiktok.com/@swtptakes" target="_blank" rel="noopener noreferrer" aria-label="TikTok">
          <i class="fab fa-tiktok"></i>
        </a>
      </nav>
    </div>
  </header>

  <main>
    <div class="productos productos-columna" role="region" aria-labelledby="sorteo-heading">
      <div class="producto">
        <h2 id="sorteo-heading">
          <i class="fas fa-ticket-alt" style="color:var(--color-accent);margin-right:10px;" aria-hidden="true"></i>
          Participa por una Tarjeta Apple o Google Play <span class="gratis">Gratis</span>
        </h2>
        <img src="tarjeta.jpeg" alt="Tarjeta Google Play" role="img" loading="lazy" />
        <p><strong>Sorteo el 8 de julio de 2025</strong></p>
        <div class="ticket-info">
          El ganador será anunciado en nuestro perfil de Instagram. ¡No te lo pierdas!
        </div>
        <div class="ticket-box">
          <label for="nombre-tarjeta">Usuario de Instagram</label>
          <input type="text" id="nombre-tarjeta" placeholder="Ej. @tu_usuario_inst" aria-required="true" aria-describedby="disclaimer-text-tarjeta" />
          <div class="disclaimer-text" id="disclaimer-text-tarjeta">Tus datos solo se usarán para este sorteo.</div>
          <button id="btn-ticket" onclick="generarTicketTarjeta()" aria-live="polite" aria-label="Generar Ticket para Tarjeta Google Play">
            <i class="fas fa-ticket-alt" aria-hidden="true"></i>
            <span id="texto-boton-ticket">Generar Ticket</span>
            <span id="loader" style="display:none;margin-left:10px;"><i class="fas fa-spinner fa-spin" aria-hidden="true"></i></span>
          </button>
        </div>
        <div class="resultado" id="resultado-tarjeta" role="status" aria-atomic="true"></div>
      </div>
    </div>

    <section class="share-buttons" aria-label="Compartir este sorteo en redes sociales">
        <a href="https://instagram.com/swtptakes" target="_blank" rel="noopener noreferrer" aria-label="Instagram de Swtptakes">
          <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="https://facebook.com/swtptakes" target="_blank" rel="noopener noreferrer" aria-label="Facebook de Swtptakes">
          <i class="fab fa-facebook" aria-hidden="true"></i>
        </a>
        <a href="https://www.tiktok.com/@swtptakes" target="_blank" rel="noopener noreferrer" aria-label="TikTok de Swtptakes">
          <i class="fab fa-tiktok" aria-hidden="true"></i>
        </a>
    </section>
    <button class="regresar-btn" onclick="window.location.href='index.html'" aria-label="Regresar a la página principal">
      <i class="fas fa-arrow-left" aria-hidden="true"></i> Regresar
    </button>

    <section class="about-us" aria-labelledby="about-us-heading">
        <h2 id="about-us-heading">Sobre Nosotros</h2>
        <p>En Swtptakes, nos apasiona crear oportunidades emocionantes para nuestra comunidad. Nos dedicamos a organizar sorteos justos y transparentes, ofreciendo premios valiosos que te encantarán. Nuestra misión es añadir un toque de emoción y suerte a tu día, siempre con la promesa de una experiencia divertida y confiable.</p>
        <p>Síguenos en nuestras redes sociales para no perderte ningún sorteo, anuncio de ganadores y las últimas noticias. ¡Únete a la familia Swtptakes y que la suerte esté de tu lado!</p>
        <div class="call-to-action">

        </div>
    </section>
    </main>

  <footer class="main-footer" role="contentinfo">
    <span>Organizado por <strong>Swtptakes</strong></span>
    <span class="footer-social-icons">

    </span>
    <br>
    <span>
      <a href="mailto:contacto@swtptakes.com" aria-label="Enviar correo a Swtptakes">Contacto</a>
      |
      <a href="terminos.html" aria-label="Ver términos y condiciones">Términos y condiciones</a>
    </span>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    // Usamos un Set para almacenar los tickets generados y garantizar su unicidad
    const usadosTickets = new Set();
    const PAGE_URL_TO_SHARE = encodeURIComponent(window.location.href);

    // Función para generar un número aleatorio de 5 dígitos y 3 letras aleatorias
    function generarTicketUnico() {
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let ticket;
      do {
        let numPart = '';
        for (let i = 0; i < 5; i++) {
          numPart += Math.floor(Math.random() * 10);
        }

        let charPart = '';
        for (let i = 0; i < 3; i++) {
          charPart += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        ticket = `${numPart}${charPart}`;
      } while (usadosTickets.has(ticket)); // Asegura que no se repita
      usadosTickets.add(ticket);
      return ticket;
    }

    async function guardarEnGoogleSheets(nombre, numero) {
      // Revisa tu Google Apps Script para asegurarte que esta URL es la de la última implementación
      // Asegúrate de que tu Google Apps Script esté configurado para manejar el nuevo formato del ticket
      const scriptURL = 'https://script.google.com/macros/s/AKfycbyrZsIt80TdSBf1AvrcGOgnbQgdg1uADJu11MyTd9vhXktWI56Rlm6s_Yl6UmXszUsg/exec';
      try {
        await fetch(scriptURL, {
          method: 'POST',
          body: new URLSearchParams({ nombre, numero, hoja: "tarjeta" })
        });
        console.log("Datos guardados en Google Sheets.");
      } catch (error) {
        console.warn("Error al guardar en Google Sheets:", error);
        throw new Error("Fallo la comunicación con Google Sheets.");
      }
    }

    async function generarTicketTarjeta() {
      const boton = document.getElementById("btn-ticket");
      const loader = document.getElementById("loader");
      const textoBoton = document.getElementById("texto-boton-ticket");
      const inputNombre = document.getElementById("nombre-tarjeta");
      const resultadoDiv = document.getElementById("resultado-tarjeta");
      
      const nombre = inputNombre.value.trim();
      if (!nombre) {
        resultadoDiv.innerHTML = "<div style='color:var(--color-error); font-weight:600;'>Por favor, ingresa tu usuario de Instagram.</div>";
        inputNombre.focus();
        return;
      }

      boton.disabled = true;
      loader.style.display = "inline-block";
      textoBoton.textContent = "Generando...";
      resultadoDiv.innerHTML = "";

      try {
        const { jsPDF } = window.jspdf;
        const ticketGenerado = generarTicketUnico(); // Usamos la nueva función

        // Guardar el ticket en Google Sheets
        await guardarEnGoogleSheets(nombre, ticketGenerado);

        const doc = new jsPDF();
        doc.setFontSize(22);
        doc.setTextColor("#1e293b"); 
        doc.text("Ticket de Sorteo - Swtptakes", 20, 30);
        
        doc.setFontSize(16);
        doc.setTextColor("#475569");
        doc.text(`Participas por: Tarjeta  Apple o Google Play GRATIS`, 20, 45);
        
        doc.setFontSize(18);
        doc.setTextColor("#3b82f6");
        doc.text(`Usuario de Instagram: @${nombre}`, 20, 65);
        doc.text(`Tu número de ticket: ${ticketGenerado}`, 20, 75); // Mostrar el nuevo formato

        doc.setFontSize(14);
        doc.setTextColor("#475569");
        doc.text("Sorteo: 8 de julio de 2025", 20, 95); // Asegúrate de que esta fecha sea correcta
        doc.text("El ganador será anunciado en nuestro perfil de Instagram.", 20, 105);
        doc.text("¡Mucha suerte!", 20, 120);

        doc.save(`ticket_swtptakes_${ticketGenerado}.pdf`);

        mostrarNumeroAnimado("resultado-tarjeta", ticketGenerado, nombre); 
        
        setTimeout(() => {
          loader.style.display = "none";
          textoBoton.textContent = "Generar Ticket";
          boton.disabled = false;
          inputNombre.value = "";
        }, 1000); 
        
      } catch (error) {
        console.error("Error al generar el ticket:", error);
        resultadoDiv.innerHTML = "<div style='color:var(--color-error); font-weight:600;'>Ocurrió un error al generar el ticket. Por favor, intenta de nuevo.</div>";
        loader.style.display = "none";
        textoBoton.textContent = "Generar Ticket";
        boton.disabled = false;
      }
    }

    function mostrarNumeroAnimado(idContenedor, numeroTicket, nombreUsuario) {
      const contenedor = document.getElementById(idContenedor);
      contenedor.innerHTML = "<div style='color:var(--color-success);font-weight:600;margin-bottom:0.75em;'>¡Ticket generado con éxito!</div>";
      
      const numDiv = document.createElement("div");
      numDiv.className = "resultado-animado";
      numDiv.textContent = `#${numeroTicket}`; // Mostrar el nuevo formato
      contenedor.appendChild(numDiv);

      const telefonoEmpresa = "529711268006"; // <--- ¡IMPORTANTE! Reemplaza con el número de WhatsApp de tu empresa
      
      const mensajeWhatsApp = encodeURIComponent(
        `¡Hola! Soy @${nombreUsuario} y acabo de generar mi ticket para el sorteo de Swtptakes. Mi número de ticket es: #${numeroTicket}. ¡Gracias!`
      );

      const whatsappLink = `https://wa.me/${telefonoEmpresa}?text=${mensajeWhatsApp}`;

      const whatsappButton = document.createElement("a");
      whatsappButton.href = whatsappLink;
      whatsappButton.target = "_blank";
      whatsappButton.rel = "noopener noreferrer";
      whatsappButton.className = "btn-whatsapp";
      whatsappButton.innerHTML = `<i class="fab fa-whatsapp"></i> Enviar número por WhatsApp`;
      
      contenedor.appendChild(whatsappButton);

      // Lanzar confeti (la función está incompleta en el código original, asegúrate de tenerla definida)
      const confeti = document.createElement("div");
      confeti.className = "confeti";
      document.body.appendChild(confeti);
      // Aquí deberías tener tu implementación de lanzarConfeti(confeti)
      // Ejemplo básico de lanzarConfeti (necesitarías implementarlo más completo si quieres animación)
      function lanzarConfeti(container) {
          for (let i = 0; i < 50; i++) { // Lanzar 50 piezas de confeti
              const piece = document.createElement('div');
              piece.className = 'confeti-piece';
              piece.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`; // Colores aleatorios
              piece.style.left = `${Math.random() * 100}%`;
              piece.style.animationDelay = `${Math.random() * 0.5}s`;
              container.appendChild(piece);
          }
      }
      lanzarConfeti(confeti);
      setTimeout(() => confeti.remove(), 2000); // Remover el contenedor de confeti después de 2 segundos
    }

    // Asegúrate de que la función lanzarConfeti esté definida en tu script
    // Si tienes una implementación más compleja, úsala. Si no, la que agregué arriba es un punto de partida.
  </script>
</body>
</html>